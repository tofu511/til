# ビッグデータサービス

## サービスの種類
|サービス  |概要  |用途  |
|---|---|---|
|Cloud Pub/Sun  |多対多の非同期メッセージングサービス  |ストリーミングデータ取り込み  |
|BigQuery  |フルマネージドデータウェアハウス  |データレイク、インタラクティブなクエリ分析  |
|Cloud Dataflow   |バッチ・オンラインのデータパイプライン   | ETL処理  |
|Cloud Dataproc   |Apache Hadoop/Apache Sparkのマネージドサービス   |大規模分散処理 |
|Cloud Datalab  |データ分析、可視化、機械学習のためのインタラクティブ分析ツール |インタラクティブなデータ分析・機械学習モデル構築 |

### Cloud Pub/Sub
#### 基本概念
- メッセージを生成・送信するアプリケーションやデバイスをパブリッシャーと呼ぶ
- メッセージを受信するアプリケーションやデバイスをサブスクライバーと呼ぶ
- パブリッシャーはエンドポイント `google.apis.com` にHTTPSリクエストを投げることでパブリッシュできる
- サブスクライバーには２種類の受信方法がある
  - Pull 
    - エンドポイントにHTTPSリクエストを投げる
  - Push
    - Pub/SubからのHTTPS POSTリクエスト受け入れることができることが可能なWebhookエンドポイントとしてメッセージを受信する
    
#### 考慮事項
- Pub/Subは順序制御を保証していないので、順序に依存しないアプリケーション設計にする必要がある
- at-least-once配信のため同一メッセージが複数回配信される可能性がある
  - DataflowのPubSubIOを使うとメッセージに対する処理を1回にできる
