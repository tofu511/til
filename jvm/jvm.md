# JVM

## JITコンパイラ
- JVMでは最初は他のインタプリタ言語のように必要になったタイミングでコンパイルされる
- JVMでは通常どのハードウェアでも動くようにJVMが理解できるバイトコードにコンパイルされる。ただバイトコードはネイティブコード比べていくらか遅くなる
- ただアプリケーションの中で
特によく使用されるコードなどはネイティブコードにコンパイルされる
- この仕組みはJVMユーザーからは意識することなく（透過的に）実行される
- ネイティブコードへの変換は他より時間がかかるが実行次のパフォーマンスが良くなる

## メモリ
- 大きく分けて以下のメモリがある
	- Stack
	- Heap
	- Metaspace
- Stackは各スレッドごとにあり、primitiveな値を保持する
- Heapはオブジェクトを確保する際に使用される。Heapは全てのThreadに共有な領域として使用される
- metaspaceではmeta dataを保存する。static変数もmetaspaceに保存される。static変数がprimitiveな場合metaspaceにそのまま保存され、static変数がオブジェクトの場合はオブジェクト自体はHeapに作成され、ポインターがmetaspaceに保存される
- metaspaceのデータはコード上のどこからも参照されなくなるまで存在する
- metaspaceもheapと同じく、Thread間で共有される
