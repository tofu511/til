# 4章 柔軟なインターフェースをつくる
- 設計ではオブジェクトが何を知っているか(オブジェクトの責任)や、誰を知っているか(オブジェクトの依存関係)だけでなく、オブジェクト間で受け渡されるメッセージについても考慮しないといけない
- オブジェクト間の会話はオブジェクトのインターフェースを介して行われる

## インターフェースを定義する
### パブリックインターフェース
- パブリックなインターフェース(パブリックなメソッド)は以下の特性を備える
	- クラスの主要な責任を明らかにする
	- 外部から実行されることが想定される
	- 気まぐれに変更しない
	- 他者がそこに依存しても安全
	- テストで完全に文書化されている

### プライベートインターフェース
- プライベートなインターフェース(プライベートなメソッド)は以下の特性を備える
	- 実装の詳細に関わる
	- 他のオブジェクトから送られてくることは想定されていない
	- どんな理由でも変更されうる
	- 他者がそこに依存するのは危険
	- テストでは言及されてないこともある

## 責任、依存関係、そしてインターフェース
- クラスが単一の責任を持つということはクラスは単一の目的を果たすものとなる
- クラスのパブリックメソッドは責任の説明と解釈できるものであるべき
- パブリックインターフェースはクラスの責任を明確に述べるものである
- メソッドにパブリックやプライベートと印をつけることはクラスの使用者に対してどのメソッドは安全に依存できそうかを伝えていることになる
- 他のクラスのプライベートメソッドに依存するとは、本質的に不安定なものに依存していることになることを理解すること

## パブリックインターフェースを見つける
- アプリケーションにおいて、データと振る舞いを兼ね備えたものをドメインオブジェクトはアプリケーションを設計する上で中心となるものでは**ない**
- 熟練した設計者はオブジェクト間で交わされるメッセージに注意を向ける

### シーケンス図を使う
- オブジェクトとメッセージの実験するのにうってつけな方法が「シーケンス図」
- 視点を「このクラスが必要なのは知っているけど、何をすべきなのだろう」から「このメッセージを送る必要があるけれど、誰が応答すべきなんだろう」へ変えることが設計者としてのキャリアの転機になる

### 「どのように」を伝えるのではなく「何を」を頼む
- 送り手の望みを頼むメッセージと、受け手にどのように振る舞うかを伝えるメッセージの違いを理解することが、適切に定義されたパブリックインターフェースを持つ、再利用可能なクラスを作るための鍵となる
- 送り手は「どのように」を知る必要はない、「どのように」のやり方が変わったら、送り手側に修正が必要になってしまう
- 「どのように」はメッセージを受け取った側の責任であり、送り手は「何を」を頼めば良い

## 一番良い面(インターフェース)を表に出すコードを書く
- インターフェースこそが全てのテストよりも、他のどんなコードよりも、アプリケーションを定義し、その将来を決定づける
