# ビッグデータの分散処理
## 構造化データと非構造化データ
- スキーマが明確に定義されたデータを構造化データと呼ぶ
  - SQLでデータ集計が可能
- 自然言語のテキストデータ、画像、動画などスキーマを持たないデータを非構造化データと呼ぶ
  - そのままだとSQLでデータ集計できない
- CSV, JSON, XMLなどは書式こそ決まっているがカラムや型などは決まってないのでスキーマレスデータと呼ばれる

## データマートの構築
- ファクトテーブルの作成には追記と置換の2つの方法がある
- テーブルパーティショニング(1つのテーブルを複数の物理的なパーティションに分割すること)は以下の問題を軽減する
  - 追記に失敗して気づかずにいると、ファクトテーブルの一部が欠損する
  - 追記を間違って複数回実行すると、ファクトテーブルの一部が重複する
  - 後からファクトテーブルを作り直したくなった場合の管理が複雑になる
- ファクトテーブルをある程度まとめて集約したものをサマリーテーブルと呼ぶ
  - １日単位で集計したものを日次サマリーと呼ぶ
- SQLの各カラムが取るあたいの数の大きさをカーディナリティ(cardinality)
  - 性別はカーディナリティが小さい
  - IPアドレスはカーディナリティが大きい
  - サマリーテーブルを小さくするには全てのカラムのカーディナリティを小さくすべき
